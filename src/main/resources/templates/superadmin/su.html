<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.springframework.org/security/tags">
	<head th:replace="fragments/head :: head"></head>
	<body>
		<nav th:replace="fragments/menu :: menu(activeMenu)"></nav>
		<div th:replace="fragments/help :: help"></div>
		<div class="container-fluid" id = "suPage">
			<div class="card">
				<div class="card-header"><h2>Su</h2></div> 
  				<div class="card-body">
  					<div class="row">
	  					<div class="col">
		  					<form th:action="@{/all/superadmin/impersonate}" id="formSearch" method="post">
		  						<div class="form-group">
			                    	<div class="col-lg-2">
			                        	<label for="eppn" class="form-label">Individu</label><span id="searchSuEppnNom"></span>
			                       	</div>
									<div class="col-lg-10">
										<input name="username" class="form-control searchBox" th:hx-get="@{|/${eContext}/superadmin/search-users|}"
											hx-trigger="keyup changed" hx-target="#searchResults" hx-indicator=".htmx-indicator"
											autocomplete="off" placeholder="Ici, recherche sur Nom PrÃ©nom --- Manuellement : identifiant@univ-ville.fr">
										<div id="searchResults"></div>
										<div class="htmx-indicator"><span class="visually-hidden">Loading...</span></div>
									</div>
								</div>		    
							</form>
	  					</div>
	  					<div class="col">
		  					<form th:action="@{/all/superadmin/impersonate}" id="formSearchUniversal" method="post" class="f">
								<div class="row">
									<div class="col-md-12">
										<label for="userRole" class="form-label">Contexte</label>
										<select id="suContexte"
											name="username" class="form-control" required="required">
											<option value="">---Choisir--</option>
											<option th:each="contexte : ${contexts}"
												th:value="${generic + '_' + contexte}" th:text="${contexte}"></option>
										</select>
									</div>
				  					<div class="col">
				  						<button type="submit" class="btn btn-success mt-2">Se connecter</button>
				  					</div>									
								</div>
							</form>
	  					</div>

  					</div>
				</div>
  			</div>
		</div>
		<footer th:replace="fragments/footer :: footer"></footer>
	</body>
</html>